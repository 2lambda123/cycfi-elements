/*=================================================================================================   Copyright (c) 2016 Joel de Guzman   Licensed under a Creative Commons Attribution-ShareAlike 4.0 International.   http://creativecommons.org/licenses/by-sa/4.0/=================================================================================================*/#include <photon/support.hpp>#include <photon/rect.hpp>#include <algorithm>namespace photon{   bool intersects(rect a, rect b)   {      if (!is_valid(a) || !is_valid(b))         return false;      return         (std::max(b.left, b.left) <= std::min(b.right, b.right)) &&         (std::max(b.top, b.top) <= std::min(b.bottom, b.bottom))			;   }   rect max(rect a, rect b)   {      return {         std::min(a.left, b.left),         std::min(a.top, b.top),         std::max(a.right, b.right),         std::max(a.bottom, b.bottom)		};   }   rect min(rect a, rect b)   {      return {         std::max(a.left, b.left),         std::max(a.top, b.top),         std::min(a.right, b.right),         std::min(a.bottom, b.bottom)		};   }   rect center(rect r, rect encl, bool h, bool v)   {      float x = r.left;      float y = r.top;      float dx = 0.0;      float dy = 0.0;      if (h)      {         x = encl.left;         dx = (encl.width() - r.width()) / 2.0;      }      if (v)      {         y = encl.top;         dy = (encl.height() - r.height()) / 2.0;      }      r = r.move_to(x, y);      r = r.move(dx, dy);      return r;   }   rect align(rect r, rect encl, float x_align, float v_align)   {      r = r.move_to(			encl.left + ((encl.width() - r.width()) * x_align),         encl.top + ((encl.height() - r.height()) * v_align));      return r;   }   rect clip(rect r, rect encl)   {      min_limit(r.left, encl.left);      min_limit(r.top, encl.top);      max_limit(r.right, encl.right);      max_limit(r.bottom, encl.bottom);      return r;   }}